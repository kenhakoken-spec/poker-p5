# E2E シナリオ一覧（リバー・記録まで）

## 目的

記録開始 → ヒーロー選択 → Who is Open? → プリフロアクション → フロップ3枚選択 → ターン1枚 → リバー1枚 → 勝者選択 → ショーダウン → 結果 まで一連のフローが正しく動作することを検証する。

## シナリオの組み合わせ（約200パターン）

### 1. ヒーローポジション（6）

- UTG, MP, CO, BTN, SB, BB

### 2. Who is Open?（7）

- UTG, MP, CO, BTN, SB, BB, No open (BB option)

### 3. プリフロ・オープナー後のアクション（代表パターン）

- オープナー 3x → 全員フォールド（BB含む）
- オープナー 3x → 1人コール → 他フォールド → ハンド終了（2人）
- オープナー 3x → 複数コール → フロップへ
- オープナー 2x → 全員コール → フロップへ
- No open → BB チェック → フロップへ

### 4. フロップ・ターン・リバー（短いシーケンス）

- 全員チェック → 次ストリート
- SB ベット → BB コール → 次ストリート
- 1人ベット → 他フォールド → ハンド終了

### 5. 勝者・結果

- ヒーロー勝 / ヒーロー敗
- 2人 / 3人以上（チョップは将来対応）

### 6. 端末

- Pixel 8 Pro 相当 (412×915): 縦スクロールなしで全画面表示

## パターン数見積もり

| カテゴリ | パターン数 |
|----------|------------|
| ヒーロー | 6 |
| Who is Open | 7 |
| プリフロ結果（全フォールド / 2人 / フロップへ） | 3 |
| フロップ（チェック/ベット-コール） | 2 |
| ターン（同様） | 2 |
| リバー（同様） | 2 |
| 勝者（ヒーロー勝/敗） | 2 |
| **合計（組み合わせ）** | 6×7×3×2×2×2×2 = **1008**（代表サブセットで約200を選ぶ） |

## 実行方法

- **手動**: docs/MANUAL_TEST_CHECKLIST.md に従い、代表シナリオを実施
- **自動**: tests/e2e/ に Playwright テストを追加し、`npm run test:e2e` で実行（夜間バッチ想定）

## 合格基準

- 記録開始から結果入力までクラッシュせず完了する
- ストリート進行が TH ルール通り（ラウンド閉鎖時のみ次ストリート）
- ポット表示が正しい
- 縦スクロールが発生しない（Pixel 8 Pro ビューポート）
